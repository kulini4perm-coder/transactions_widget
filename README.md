# Transactions Widget

## Описание:

Transactions Widget «Виджет финансовых операций» - это виджет, который показывает несколько последних успешных банковских операций клиента. 

## Установка:

1. Клонируйте репозиторий:
```
git clone https://github.com/kulini4perm-coder/transactions_widget.git
```

2. Установите зависимости:
```
pip install -r requirements.txt
```


## Документация:

Дополнительную информацию о структуре проекта и API можно найти в [документации](docs/README.md).

## Тестирование работы функций виджета:

Для проверки работоспособности и отладки виджета разработаны тесты модулей:

### Модуль masks

#### Функция `get_mask_card`
- Проверка правильности вывода маски
- Тестирование разных номеров карт
- Проверка исключений для короткой, длинной и пустой строки

#### Функция `get_mask_account`
- Проверка правильности вывода маски
- Тестирование разных номеров карт
- Проверка исключений для короткой, длинной и пустой строки

### Модуль widget

#### Функция `mask_account_card`
- Тесты на определение типа входных данных - карты или счета
- Проверка отработки разных типов карт и счетов
- Проверка случаев отсутствия названия карты/счета

#### Функция `get_date`
- Тест для разных корректных дат
- Проверка случая с пустой входной строкой

### Модуль processing

#### Функция `filter_by_state`
- Проверка по явно указанному статусу
- Проверка по статусу по умолчанию
- Проверка фильтрации по статусу, словари с которым отсутствуют
- Тест для разных корректных дат

#### Функция `sort_by_date`
- Проверка сортировки по убыванию
- Проверка сортировки по возрастанию

### Модуль generators

#### Функция `filter_by_currency`
- Проверка фильтрации транзакции по заданной валюте.
- Проверка фильтрации, когда транзакции в заданной валюте отсутствуют.
- Проверка на ошибку при обработке пустого списка или списка без соответствующих валютных операций.

#### Функция `transaction_descriptions`
- Проверка корректных описаний для каждой транзакции.
- Проверка для случаев с различным количеством входных транзакций, включая пустой список.

#### Генератор `card_number_generator`
- Проверка на выдачу правильных номеров карт в заданном диапазоне.
- Проверка корректности форматирования номеров карт.
- Проверка обработки крайних значений диапазона и правильно завершает генерацию.

### Модуль decorators

#### Декоратор логирования `log`
- Проверка успешного выполнения
- Проверка выполнения с ошибкой
- Проверка записи в файл и вывода в консоль

### Модуль external_api

#### Функция `convert_to_rub`
- Проверка конвертации USD в RUB через API
- Проверка выполнения с ошибкой API
- Проверка ситуации, когда конвертация не нужна

#### Функция `get_transaction_amount_in_rub`
- Проверка вызова функции-конвертера для транзакции
- Проверка получения суммы для транзакции в RUB

### Модуль external_api

#### Функция `get_financial_transactions`
- Проверка успешного выполнения
- Проверка поведения, когда файл отсутствует
- Проверка поведения, когда файл содержит словарь вместо списка


## Лицензия:

Проект распространяется под [лицензией MIT](LICENSE).